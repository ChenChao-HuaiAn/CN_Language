/*
 * 位操作基础测试示例
 * 演示基本的位操作功能
 */

函数 主程序() {
    // 测试1：按位与（&）
    整数 a = 0b10101010;  // 0x0A = 10
    整数 b = 0b11001100;  // 0xCC = 204
    整数 and_result = a & b;
    
    打印("测试1: 按位与 (&)");
    打印("a = ");
    打印(a);
    打印(" (0b10101010)");
    打印("b = ");
    打印(b);
    打印(" (0b11001100)");
    打印("a & b = ");
    打印(and_result);
    打印(" (0b10001000 = 8)");
    
    // 测试2：按位或（|）
    整数 c = 0b10101010;  // 0x0A = 10
    整数 d = 0b01010101;  // 0x55 = 85
    整数 or_result = c | d;
    
    打印("\n测试2: 按位或 (|)");
    打印("c = ");
    打印(c);
    打印(" (0b10101010)");
    打印("d = ");
    打印(d);
    打印(" (0b01010101)");
    打印("c | d = ");
    打印(or_result);
    打印(" (0b11111111 = 255)");
    
    // 测试3：按位异或（^）
    整数 e = 0b10101010;  // 0x0A = 10
    整数 f = 0b11001100;  // 0xCC = 204
    整数 xor_result = e ^ f;
    
    打印("\n测试3: 按位异或 (^)");
    打印("e = ");
    打印(e);
    打印(" (0b10101010)");
    打印("f = ");
    打印(f);
    打印(" (0b11001100)");
    打印("e ^ f = ");
    打印(xor_result);
    打印(" (0b01100110 = 198)");
    
    // 测试4：按位取反（~）
    整数 g = 0b10101010;  // 0x0A = 10
    整数 not_result = ~g;
    
    打印("\n测试4: 按位取反 (~)");
    打印("g = ");
    打印(g);
    打印(" (0b10101010)");
    打印("~g = ");
    打印(not_result);
    打印(" (0b111010101 = 245)");
    
    // 测试5：左移（<<）
    整数 h = 0b00001010;  // 0x0A = 10
    整数 left_shift_result = h << 2;
    
    打印("\n测试5: 左移 (<<)");
    打印("h = ");
    打印(h);
    打印(" (0b00001010)");
    打印("h << 2 = ");
    打印(left_shift_result);
    打印(" (0b00101000 = 40)");
    
    // 测试6：右移（>>）
    整数 i = 0b10100000;  // 0x50 = 80
    整数 right_shift_result = i >> 2;
    
    打印("\n测试6: 右移 (>>)");
    打印("i = ");
    打印(i);
    打印(" (0b10100000)");
    打印("i >> 2 = ");
    打印(right_shift_result);
    打印(" (0b00101000 = 20)");
    
    // 测试7：组合位操作
    整数 x = 0b00001111;  // 7
    整数 y = 0b00010100;  // 20
    整数 z = 0b00001010;  // 10
    
    // (x | y) & z = (7 | 20) & 10 = 23 & 10 = 2
    整数 combined = (x | y) & z;
    
    打印("\n测试7: 组合位操作");
    打印("x = ");
    打印(x);
    打印(" (0b00001111)");
    打印("y = ");
    打印(y);
    打印(" (0b00010100)");
    打印("z = ");
    打印(z);
    打印(" (0b00001010)");
    打印("(x | y) & z = ");
    打印(combined);
    打印(" (0b00000010 = 2)");
    
    // 测试8：使用位操作提取特定位
    整数 flags = 0b11010101;  // 0xD5 = 213
    整数 mask = 0b00001111;  // 0x0F = 15
    
    // 提取低4位
    整数 low_bits = flags & mask;
    
    打印("\n测试8: 提取特定位");
    打印("flags = ");
    打印(flags);
    打印(" (0b11010101)");
    打印("mask = ");
    打印(mask);
    打印(" (0b00001111)");
    打印("flags & mask = ");
    打印(low_bits);
    打印(" (0b00000101 = 5)");
    
    // 测试9：使用位操作设置特定位
    整数 value = 0b00000000;  // 0
    整数 bit_to_set = 0b00100000;  // 0x20 = 32
    
    // 设置第5位
    整数 set_result = value | bit_to_set;
    
    打印("\n测试9: 设置特定位");
    打印("value = ");
    打印(value);
    打印(" (0b00000000)");
    打印("bit_to_set = ");
    打印(bit_to_set);
    打印(" (0b00100000)");
    打印("value | bit_to_set = ");
    打印(set_result);
    打印(" (0b00100000 = 32)");
    
    // 测试10：使用位操作清除特定位
    整数 value2 = 0b11111111;  // 255
    整数 bit_to_clear = 0b00000001;  // 1
    
    // 清除第0位
    整数 clear_result = value2 & ~bit_to_clear;
    
    打印("\n测试10: 清除特定位");
    打印("value2 = ");
    打印(value2);
    打印(" (0b11111111)");
    打印("bit_to_clear = ");
    打印(bit_to_clear);
    打印(" (0b00000001)");
    打印("~bit_to_clear = ");
    打印(~bit_to_clear);
    打印(" (0b11111110)");
    打印("value2 & ~bit_to_clear = ");
    打印(clear_result);
    打印(" (0b11111110 = 254)");
    
    打印("\n所有位操作测试完成");
    
    返回 0;
}
