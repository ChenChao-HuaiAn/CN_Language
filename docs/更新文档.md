## 三元运算符完善总结

### 问题
生成的C代码中，某些寄存器（如r5、r6）被使用但未声明。

### 根本原因
1. 三元运算符的SELECT指令结果寄存器类型被推断为`CN_TYPE_UNKNOWN`
2. 代码生成时，只为`CN_TYPE_INT`和`NULL`类型的寄存器生成声明
3. `CN_TYPE_UNKNOWN`类型的寄存器被遗漏

### 修复内容

**cgen.c**：
1. 添加预扫描找出所有实际使用的最大寄存器ID
2. 在寄存器声明循环中，添加对`CN_TYPE_UNKNOWN`类型的处理，将其也声明为`long long`

### 验证结果
- 简单三元运算符示例：`long long r0, r1, r2, r3, r4, r5, r6;` ✅
- 复杂示例（多函数）：所有函数正确声明寄存器 ✅
- 三元运算符语法：`r5 = (r2 ? r3 : r4);` ✅
- 测试套件：核心功能测试通过 ✅