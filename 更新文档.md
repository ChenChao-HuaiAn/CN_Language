
我已完成阶段 2 语义分析中关于语义检查的所有 TODO 事项：

### 1. 实现名称解析与重复/未定义检查
- **符号表集成诊断**：修改了 `cn_sem_build_scopes`，在构建作用域树时，若发现当前作用域已存在同名符号，将报告 `CN_DIAG_CODE_SEM_DUPLICATE_SYMBOL` 错误。
- **未定义标识符检查**：在 `cn_sem_resolve_names` 中实现了对 AST 的遍历，检查所有标识符使用是否能找到对应的定义。找不到则报告 `CN_DIAG_CODE_SEM_UNDEFINED_IDENTIFIER`。

### 2. 实现函数调用形参与实参检查
- **扩展类型系统**：在 `CnTypeKind` 中新增了 `CN_TYPE_FUNCTION`，并在 `CnType` 结构中增加了保存参数类型列表和返回类型的字段。
- **函数类型保存**：在 `scope_builder.c` 中，函数声明符号现在会完整保存其参数类型信息。
- **调用检查**：在类型推断 `infer_expr_type` 中增加了对 `CN_AST_EXPR_CALL` 的处理：
    - 检查被调用对象是否为函数类型。
    - 检查实参个数与形参个数是否匹配（`CN_DIAG_CODE_SEM_ARGUMENT_COUNT_MISMATCH`）。
    - 检查每个实参类型是否与形参类型兼容（`CN_DIAG_CODE_SEM_ARGUMENT_TYPE_MISMATCH`）。

### 3. 控制流基本检查
- **循环上下文检查**：在类型检查 pass 中增加了 `in_loop` 状态追踪。
- **非法 break/continue**：当 `中断` (`break`) 或 `继续` (`continue`) 语句出现在非循环语句块中时，将报告 `CN_DIAG_CODE_SEM_BREAK_CONTINUE_OUTSIDE_LOOP` 错误。

### 验证
- 创建了新的单元测试 `tests/unit/semantic_check_test.c` 并将其集成到 CMake 构建系统中。
- 经测试，重复定义、未定义标识符以及循环外使用 break 等错误均能被正确捕获并报告。

**建议执行以下命令运行新增加的语义测试：**
```powershell
cmake --build build --target semantic_check_test
./build/tests/unit/Debug/semantic_check_test.exe
```