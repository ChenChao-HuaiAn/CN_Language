
好的，我已经根据您的要求，完成了对 **阶段 3：C 代码后端实现** 中 **4.1 约定 C 接口 ABI** 部分的处理。

### 已完成的工作：

1.  **类型映射**：
    *   已在 `docs/specifications/language_spec_draft.md` 中明确了 CN_Language 基础类型与 C 语言的对应关系：
        *   `整数` -> `long long`
        *   `布尔` -> `_Bool`
        *   `字符串` -> `char*`
        *   `指针` (如 `整数*`) -> C 的 `long long*` (或对应的基础类型指针)
2.  **命名规则**：
    *   约定了函数名混淆规则，例如 `函数名` 将映射为 `cn_func_函数名`，以解决 C 编译器对中文标识符的支持问题。
    *   同样，参数和局部变量 `变量名` 将映射为 `cn_var_变量名`。
3.  **运行时约定**：
    *   对于字符串等高级类型，初步约定其 C 端表示为基础指针（如 `char*`），为后续扩展（如带长度的结构体）留出空间。

### 更新后的 TODO 状态：

```markdown
#### 4.1 约定 C 接口 ABI
- [x] **确定类型映射**：
    - [x] 在 `docs/specifications/language_spec_draft.md` 中明确 CN_Language 基础类型与 C 语言类型的对应关系（如 `int` -> `long long`, `bool` -> `_Bool`, `string` -> `char*` 或自定义结构体）。
    - [x] 为指针类型设计 C 端表示（如 `int*` -> `long long*`）。
- [x] **函数命名规则**：
    - [x] 设计函数名混淆规则（如 `函数名` -> `cn_func_函数名` 或 UTF-8 编码转义），避免 C 编译器不支持中文标识符。
    - [x] 为函数参数和局部变量的命名也约定规则（如 `变量名` -> `cn_var_变量名`）。
- [x] **运行时约定**：
    - [x] 确定如何处理 CN_Language 的字符串、数组等高级类型在 C 中的表示（是直接用 C 数组还是用结构体封装）。
```

**下一步建议**：
ABI 约定已完成，接下来可以开始实施 **4.2 IR 转换 C 代码逻辑** 和 **4.3 输出模块**。需要我开始创建 C 代码生成器模块 (`src/backend/cgen/`) 吗？